<div style="width: 248%" class="flex flex-none flex-col max-w-none md:max-w-full">
  <div class="sticky top-0 z-30 flex-none bg-white shadow ring-1 ring-black ring-opacity-5 pr-8">
    <div
      class="-mr-px grid divide-x divide-gray-100 border-r border-gray-100 text-sm leading-6 text-gray-500"
      style="grid-template-columns: repeat(7, minmax(5rem, 1fr))">
      <div class="col-end-1 w-14"></div>
      @for (day of _days; track day.date) {
        <div class="flex items-center justify-center py-3">
          <span [ngClass]="{ 'flex items-baseline': day.isToday }">
            {{ day.weekday.short }}
            <span
              class="items-center justify-center font-semibold text-gray-900"
              [ngClass]="{
                'ml-1.5 flex h-8 w-8 rounded-full bg-indigo-600 text-white': day.isToday
              }">
              {{ day.date | date: 'dd' }}
            </span>
          </span>
        </div>
      }
    </div>
  </div>
  <div class="flex flex-auto">
    <div class="sticky left-0 z-10 w-14 flex-none bg-white ring-1 ring-gray-100"></div>

    <div class="grid flex-auto grid-cols-1 grid-rows-1">
      <!-- Horizontal lines -->
      <div
        class="col-start-1 col-end-2 row-start-1 grid divide-y divide-gray-100"
        style="grid-template-rows: repeat(48, minmax(3.5rem, 1fr))">
        <div class="row-end-1 h-7"></div>
        <div>
          <div
            class="sticky left-0 z-20 -ml-14 -mt-2.5 w-14 pr-2 text-right text-xs leading-5 text-gray-400">
            00:00
          </div>
        </div>
        <div>
          <div
            class="sticky left-0 z-20 -ml-14 -mt-2.5 w-14 pr-2 text-right text-[10px] leading-5 text-gray-400">
            00:30
          </div>
        </div>
        <div>
          <div
            class="sticky left-0 z-20 -ml-14 -mt-2.5 w-14 pr-2 text-right text-xs leading-5 text-gray-400">
            01:00
          </div>
        </div>
        <div>
          <div
            class="sticky left-0 z-20 -ml-14 -mt-2.5 w-14 pr-2 text-right text-[10px] leading-5 text-gray-400">
            01:30
          </div>
        </div>
        <div>
          <div
            class="sticky left-0 z-20 -ml-14 -mt-2.5 w-14 pr-2 text-right text-xs leading-5 text-gray-400">
            02:00
          </div>
        </div>
        <div>
          <div
            class="sticky left-0 z-20 -ml-14 -mt-2.5 w-14 pr-2 text-right text-[10px] leading-5 text-gray-400">
            02:30
          </div>
        </div>
        <div>
          <div
            class="sticky left-0 z-20 -ml-14 -mt-2.5 w-14 pr-2 text-right text-xs leading-5 text-gray-400">
            03:00
          </div>
        </div>
        <div>
          <div
            class="sticky left-0 z-20 -ml-14 -mt-2.5 w-14 pr-2 text-right text-[10px] leading-5 text-gray-400">
            03:30
          </div>
        </div>
        <div>
          <div
            class="sticky left-0 z-20 -ml-14 -mt-2.5 w-14 pr-2 text-right text-xs leading-5 text-gray-400">
            04:00
          </div>
        </div>
        <div>
          <div
            class="sticky left-0 z-20 -ml-14 -mt-2.5 w-14 pr-2 text-right text-[10px] leading-5 text-gray-400">
            04:30
          </div>
        </div>
        <div>
          <div
            class="sticky left-0 z-20 -ml-14 -mt-2.5 w-14 pr-2 text-right text-xs leading-5 text-gray-400">
            05:00
          </div>
        </div>
        <div>
          <div
            class="sticky left-0 z-20 -ml-14 -mt-2.5 w-14 pr-2 text-right text-[10px] leading-5 text-gray-400">
            05:30
          </div>
        </div>
        <div>
          <div
            class="sticky left-0 z-20 -ml-14 -mt-2.5 w-14 pr-2 text-right text-xs leading-5 text-gray-400">
            06:00
          </div>
        </div>
        <div>
          <div
            class="sticky left-0 z-20 -ml-14 -mt-2.5 w-14 pr-2 text-right text-[10px] leading-5 text-gray-400">
            06:30
          </div>
        </div>
        <div>
          <div
            class="sticky left-0 z-20 -ml-14 -mt-2.5 w-14 pr-2 text-right text-xs leading-5 text-gray-400">
            07:00
          </div>
        </div>
        <div>
          <div
            class="sticky left-0 z-20 -ml-14 -mt-2.5 w-14 pr-2 text-right text-[10px] leading-5 text-gray-400">
            07:30
          </div>
        </div>
        <div>
          <div
            class="sticky left-0 z-20 -ml-14 -mt-2.5 w-14 pr-2 text-right text-xs leading-5 text-gray-400">
            08:00
          </div>
        </div>
        <div>
          <div
            class="sticky left-0 z-20 -ml-14 -mt-2.5 w-14 pr-2 text-right text-[10px] leading-5 text-gray-400">
            08:30
          </div>
        </div>
        <div>
          <div
            class="sticky left-0 z-20 -ml-14 -mt-2.5 w-14 pr-2 text-right text-xs leading-5 text-gray-400">
            09:00
          </div>
        </div>
        <div>
          <div
            class="sticky left-0 z-20 -ml-14 -mt-2.5 w-14 pr-2 text-right text-[10px] leading-5 text-gray-400">
            09:30
          </div>
        </div>
        <div>
          <div
            class="sticky left-0 z-20 -ml-14 -mt-2.5 w-14 pr-2 text-right text-xs leading-5 text-gray-400">
            10:00
          </div>
        </div>
        <div>
          <div
            class="sticky left-0 z-20 -ml-14 -mt-2.5 w-14 pr-2 text-right text-[10px] leading-5 text-gray-400">
            10:30
          </div>
        </div>
        <div>
          <div
            class="sticky left-0 z-20 -ml-14 -mt-2.5 w-14 pr-2 text-right text-xs leading-5 text-gray-400">
            11:00
          </div>
        </div>
        <div>
          <div
            class="sticky left-0 z-20 -ml-14 -mt-2.5 w-14 pr-2 text-right text-[10px] leading-5 text-gray-400">
            11:30
          </div>
        </div>
        <div>
          <div
            class="sticky left-0 z-20 -ml-14 -mt-2.5 w-14 pr-2 text-right text-xs leading-5 text-gray-400">
            12:00
          </div>
        </div>
        <div>
          <div
            class="sticky left-0 z-20 -ml-14 -mt-2.5 w-14 pr-2 text-right text-[10px] leading-5 text-gray-400">
            12:30
          </div>
        </div>
        <div>
          <div
            class="sticky left-0 z-20 -ml-14 -mt-2.5 w-14 pr-2 text-right text-xs leading-5 text-gray-400">
            13:00
          </div>
        </div>
        <div>
          <div
            class="sticky left-0 z-20 -ml-14 -mt-2.5 w-14 pr-2 text-right text-[10px] leading-5 text-gray-400">
            13:30
          </div>
        </div>
        <div>
          <div
            class="sticky left-0 z-20 -ml-14 -mt-2.5 w-14 pr-2 text-right text-xs leading-5 text-gray-400">
            14:00
          </div>
        </div>
        <div>
          <div
            class="sticky left-0 z-20 -ml-14 -mt-2.5 w-14 pr-2 text-right text-[10px] leading-5 text-gray-400">
            14:30
          </div>
        </div>
        <div>
          <div
            class="sticky left-0 z-20 -ml-14 -mt-2.5 w-14 pr-2 text-right text-xs leading-5 text-gray-400">
            15:00
          </div>
        </div>
        <div>
          <div
            class="sticky left-0 z-20 -ml-14 -mt-2.5 w-14 pr-2 text-right text-[10px] leading-5 text-gray-400">
            15:30
          </div>
        </div>
        <div>
          <div
            class="sticky left-0 z-20 -ml-14 -mt-2.5 w-14 pr-2 text-right text-xs leading-5 text-gray-400">
            16:00
          </div>
        </div>
        <div>
          <div
            class="sticky left-0 z-20 -ml-14 -mt-2.5 w-14 pr-2 text-right text-[10px] leading-5 text-gray-400">
            16:30
          </div>
        </div>
        <div>
          <div
            class="sticky left-0 z-20 -ml-14 -mt-2.5 w-14 pr-2 text-right text-xs leading-5 text-gray-400">
            17:00
          </div>
        </div>
        <div>
          <div
            class="sticky left-0 z-20 -ml-14 -mt-2.5 w-14 pr-2 text-right text-[10px] leading-5 text-gray-400">
            17:30
          </div>
        </div>
        <div>
          <div
            class="sticky left-0 z-20 -ml-14 -mt-2.5 w-14 pr-2 text-right text-xs leading-5 text-gray-400">
            18:00
          </div>
        </div>
        <div>
          <div
            class="sticky left-0 z-20 -ml-14 -mt-2.5 w-14 pr-2 text-right text-[10px] leading-5 text-gray-400">
            18:30
          </div>
        </div>
        <div>
          <div
            class="sticky left-0 z-20 -ml-14 -mt-2.5 w-14 pr-2 text-right text-xs leading-5 text-gray-400">
            19:00
          </div>
        </div>
        <div>
          <div
            class="sticky left-0 z-20 -ml-14 -mt-2.5 w-14 pr-2 text-right text-[10px] leading-5 text-gray-400">
            19:30
          </div>
        </div>
        <div>
          <div
            class="sticky left-0 z-20 -ml-14 -mt-2.5 w-14 pr-2 text-right text-xs leading-5 text-gray-400">
            20:00
          </div>
        </div>
        <div>
          <div
            class="sticky left-0 z-20 -ml-14 -mt-2.5 w-14 pr-2 text-right text-[10px] leading-5 text-gray-400">
            20:30
          </div>
        </div>
        <div>
          <div
            class="sticky left-0 z-20 -ml-14 -mt-2.5 w-14 pr-2 text-right text-xs leading-5 text-gray-400">
            21:00
          </div>
        </div>
        <div>
          <div
            class="sticky left-0 z-20 -ml-14 -mt-2.5 w-14 pr-2 text-right text-[10px] leading-5 text-gray-400">
            21:30
          </div>
        </div>
        <div>
          <div
            class="sticky left-0 z-20 -ml-14 -mt-2.5 w-14 pr-2 text-right text-xs leading-5 text-gray-400">
            22:00
          </div>
        </div>
        <div>
          <div
            class="sticky left-0 z-20 -ml-14 -mt-2.5 w-14 pr-2 text-right text-[10px] leading-5 text-gray-400">
            22:30
          </div>
        </div>
        <div>
          <div
            class="sticky left-0 z-20 -ml-14 -mt-2.5 w-14 pr-2 text-right text-xs leading-5 text-gray-400">
            23:00
          </div>
        </div>
        <div>
          <div
            class="sticky left-0 z-20 -ml-14 -mt-2.5 w-14 pr-2 text-right text-[10px] leading-5 text-gray-400">
            23:30
          </div>
        </div>
      </div>

      <!-- Vertical lines -->
      <div
        class="col-start-1 col-end-2 row-start-1 grid-rows-1 divide-x divide-gray-100 grid"
        style="grid-template-columns: repeat(7, minmax(5rem, 1fr))">
        <div class="col-start-1 row-span-full"></div>
        <div class="col-start-2 row-span-full"></div>
        <div class="col-start-3 row-span-full"></div>
        <div class="col-start-4 row-span-full"></div>
        <div class="col-start-5 row-span-full"></div>
        <div class="col-start-6 row-span-full"></div>
        <div class="col-start-7 row-span-full"></div>
        <div class="col-start-8 row-span-full w-8"></div>
      </div>

      <!-- Events -->

      @if (_days.length > 0) {
        <ol
          class="col-start-1 col-end-2 row-start-1 grid grid-cols-1 sm:grid-cols-7 sm:pr-8"
          style="grid-template-rows: 1.75rem repeat(288, minmax(0, 1fr)) auto">
          @for (day of _days; track day.date; let dayIndice = $index) {
            @for (event of day.events; track event.id) {
              <li
                class="relative mt-px flex"
                [ngStyle]="{
                  'grid-row': (event | gridRowStart) + ' / ' + (event | gridRowEnd)
                }"
                [ngClass]="{
                  'col-start-1': dayIndice === 0,
                  'col-start-2': dayIndice === 1,
                  'col-start-3': dayIndice === 2,
                  'col-start-4': dayIndice === 3,
                  'col-start-5': dayIndice === 4,
                  'col-start-6': dayIndice === 5,
                  'col-start-7': dayIndice === 6
                }">
                <a
                  class="group absolute inset-1 flex flex-col overflow-y-auto rounded-lg bg-blue-50 p-2 text-xs leading-5 hover:bg-blue-100">
                  <p class="truncate order-1 font-semibold text-blue-700">{{ event.title }}</p>
                  <p class="text-blue-500 group-hover:text-blue-700">
                    <time [dateTime]="event.startAt">{{ event.startAt | date: 'HH:mm' }}</time>
                  </p>
                </a>
              </li>
            }
          }
        </ol>
      }
    </div>
  </div>
</div>
